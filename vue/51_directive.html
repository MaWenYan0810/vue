<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>自定义指令</title>
    <script src="lib/jquery/jquery.min.js"></script>
    <script src="js/vue.js"></script>
</head>
<body>
<div  id="yqzx">
    <!--<span v-yq1> 云雀智能客服</span>-->
    <!--<input type="text" v-model="type" v-yq1.focus="'blue'">-->

    <!--组件内部添加指令-->
    <span v-start="color">文本标题</span>
    <input type="text" v-model="color" v-focus>
    <h1 v-hide="type" @click="type=!type">云雀智享</h1>
</div>



<script>
    //元素绑定时触发
    // Vue.directive('yq',{
    //     bind(el,bind){
    //         console.log(bind);
    //     }
    // });
    //元素更新时触发
    // Vue.directive('yq1',{
    //     update(el,bind){
    //         console.log(bind);
    //     }
    // });
    //元素绑定时和元素更新时都触发
    // Vue.directive('yq1',function(el,bind){
    //         console.log(bind);
    // });
    //根组件
    var app=new Vue({
        el:"#yqzx",
        data(){
            return{
                news:[
                    {title:'上衣',num:1,price:100},
                    {title:'帽子',num:2,price:200},
                    {title:'裤子',num:3,price:300},
                ],
                type:'true',
                color:'red',
            }
        },
        //声明局部组件
        components:{
        },
        methods:{

        },
        directives:{
            start(el,bind){
                let a = bind.value ? bind.value : 'red';
                el.style.cssText="color:"+a;
            },
            focus:{
                inserted(el,bind){ el.focus();}
            },
            hide(el,bind){
                console.log(bind.value)
                if(bind.value){
                    el.style.cssText='display:block'
                }else{
                    el.style.cssText='display:none'
                }
            }
        },
    })
</script>
<style>

</style>
</body>

</html>